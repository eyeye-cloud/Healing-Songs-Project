<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Someone's Healing Songs</title>

    <!-- Google Font ì˜ˆì‹œ: Noto Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- ì™¸ë¶€ CSS ì—°ê²° -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
<!-- ì „ì²´ ì»¨í…Œì´ë„ˆ -->
<main class="container">

    <!-- ê³¡ 1 ì„¹ì…˜ -->
    <section class="song-section">
        <div class="thumbnail-wrapper">

             <!-- ì•¨ë²” ì´ë¯¸ì§€ -->
            <img src="every_day_good_day.jpg" 
                 alt="every day good day"
                 class="song-thumbnail">
        </div>

        <div class="song-content">
            <h2>SOLE â”‚ every day good day (Feat. BIG Naughty)</h2>

            <!-- ê³¡ ì†Œê°œ ë¬¸êµ¬ -->
            <p class="description">
                # ë…¸ë˜ì—ë§Œ ëª°ë‘í•˜ê²Œ ë˜ëŠ”<br>
            </p>

            <!-- ì‚¬ìš©ìê°€ ì…ë ¥í•  ê³µê°„ -->
            <p class="my-thoughts">
                # ë…¸ë˜ì—ë§Œ ëª°ë‘í•˜ê²Œ ë˜ëŠ”&nbsp;&nbsp;&nbsp;# refreshing
            </p>

            <!-- ì˜ìƒ ì¬ìƒ ë²„íŠ¼ -->
            <button class="video-btn" onclick="toggleVideo(this, '_ngjXGKNa4s')">ìŒì•… ì¬ìƒ / ë©ˆì¶¤</button>
        </div>    
        

    <div class="video-container">
        <iframe class="song-video" 
                src="" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
        </iframe>
    </div>
    </section>

    <!-- ê³¡ 2 ì„¹ì…˜ -->
    <section class="song-section">
        <div class="thumbnail-wrapper">
            <img src="ë‚ ì”¨ì˜_ìš”ì •.jpg" 
                 alt="ë‚ ì”¨ì˜ ìš”ì • ì•¨ë²” ì´ë¯¸ì§€" 
                 class="song-thumbnail">
        </div>

        <div class="song-content">
            <h2>ì‹ ì¸ë¥˜ â”‚ ë‚ ì”¨ì˜ ìš”ì •</h2>

            <!-- ê³¡ ì†Œê°œ ë¬¸êµ¬ -->
            <p class="description">
                # ì§€ì¹œ ë‚˜ì—ê²Œ ì£¼ëŠ” í¬ê·¼í•œ ìœ„ë¡œ 
            </p>

            <!-- ì‚¬ìš©ìê°€ ì…ë ¥í•  ê³µê°„ -->
            <p class="my-thoughts"># ì§€ì¹œ ë‚˜ì—ê²Œ ì£¼ëŠ” í¬ê·¼í•œ ìœ„ë¡œ</p>

            <!-- ì˜ìƒ ì¬ìƒ ë²„íŠ¼ -->
            <button class="video-btn" onclick="toggleVideo(this, 'gNXFtFVz8NI')">ìŒì•… ì¬ìƒ / ë©ˆì¶¤</button>
        </div>    

        
        <div class="video-container">
            <iframe class="song-video" 
                    src="" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
            </iframe>
        </div>
    </section>

    <!-- footer ì„¹ì…˜ -->
    <footer class="footer">
        <p>
            <span class="name">ê¹€ì˜ˆì¸</span>
            <span class="email">yein5510@hanyang.ac.kr</span>
        </p>
    </footer>
</main>

<!-- Intersection Observer: ìŠ¤í¬ë¡¤ ë“±ì¥ íš¨ê³¼ -->
<script>
    const sections = document.querySelectorAll('.song-section');
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('show');
            }
        });
    }, { threshold: 0.3 });
    sections.forEach(section => observer.observe(section));
</script>

<!-- í´ë¦­ ì‹œ ì˜ìƒ í‘œì‹œ + ìë™ ì¬ìƒ -->
<script>
function showVideo(button, videoId) {
    const section = button.closest('.song-section');
    const container = section.querySelector('.video-container');
    const iframe = container.querySelector('iframe');

    // srcê°€ ë¹„ì–´ìˆê±°ë‚˜ ì´ë¯¸ ë‹¤ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ìƒˆë¡œ ë„£ìŒ
    iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;

    // container ë³´ì´ê²Œ
    container.style.display = "block";

    // container ê¸°ì¤€ìœ¼ë¡œ ìŠ¤í¬ë¡¤
    container.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

function toggleVideo(button, videoId) {
    const section = button.closest('.song-section');
    const container = section.querySelector('.video-container');
    const iframe = container.querySelector('iframe');
    const thumbnail = section.querySelector('.song-thumbnail');

    if (container.style.display === "block") {
        // ì˜ìƒ ë©ˆì¶¤
        iframe.src = "";
        container.style.display = "none";

        // ğŸ”¹ ì•¨ë²” íšŒì „ ë©ˆì¶¤ ë° ë¶€ë“œëŸ½ê²Œ ì›ìœ„ì¹˜

        // 1. í˜„ì¬ ì• ë‹ˆë©”ì´ì…˜ì˜ ìµœì¢… ìœ„ì¹˜ë¥¼ ë¸Œë¼ìš°ì €ì—ê²Œ "ê¸°ì–µ"í•˜ê²Œ í•©ë‹ˆë‹¤.
        const currentRotation = window.getComputedStyle(thumbnail).transform;
        
        // 2. ì• ë‹ˆë©”ì´ì…˜ì„ ì¤‘ì§€í•˜ê³  (playing í´ë˜ìŠ¤ ì œê±°), í˜„ì¬ ìœ„ì¹˜ë¥¼ transform ê°’ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
        //    transitionì´ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ ì• ë‹ˆë©”ì´ì…˜ì„ ì œê±°í•©ë‹ˆë‹¤.
        thumbnail.classList.remove("playing");

        // 3. í˜„ì¬ íšŒì „ ê°ë„ë¥¼ ë®ì–´ì¨ì„œ ê°‘ìê¸° 0ë„ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.
        thumbnail.style.transform = currentRotation; 

        // 4. ì•„ì£¼ ì§§ì€ ë”œë ˆì´ í›„, transformì„ 0ë„ë¡œ ì„¤ì •í•˜ì—¬ CSS transition(1s ease-out)ì´ ì‘ë™í•˜ê²Œ í•©ë‹ˆë‹¤.
        setTimeout(() => {
            // ì´ ì‹œì ì—ì„œ transitionì´ ë°œë™í•˜ë©° ì•¨ë²”ì´ 1ì´ˆ ë™ì•ˆ ë¶€ë“œëŸ½ê²Œ ëŒì•„ê°‘ë‹ˆë‹¤.
            thumbnail.style.transform = "rotate(0deg)"; 
        }, 10); // 10ms ë”œë ˆì´

        
    } else {
        // ì¬ìƒ ì‹œì‘
        thumbnail.style.transform = "rotate(0deg)"; // í˜¹ì‹œ ë‚¨ì•„ìˆì„ transform ì´ˆê¸°í™” (ì—†ì–´ë„ ë¬´ë°©)
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
        container.style.display = "block";

        // ì˜ìƒì´ ë‚˜ì˜¤ë„ë¡ ìŠ¤í¬ë¡¤
        container.scrollIntoView({ behavior: 'smooth', block: 'center' });

        // ğŸ”¹ íšŒì „ ì‹œì‘
        thumbnail.classList.add("playing");
    }
}
</script>
</body>
</html> 